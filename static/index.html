<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dotfiles Manager - Developer Onboarding Toolkit</title>
    <link rel="stylesheet" href="/static/styles.css">
    <link rel="stylesheet" href="/static/universal-header.css">
</head>
<body>
    <!-- Universal Header -->
    <header class="universal-header">
        <div class="header-container">
            <a href="/" class="header-brand">
                Dotfiles Manager
            </a>
            <nav class="header-nav">
                <a href="/" class="active">Home</a>
                <a href="/templates">Templates</a>
                <a href="/docs">Documentation</a>
            </nav>
            <div class="header-attribution">
                <span>Created by Wyat Soule</span>
                <a href="https://github.com/wsoule" target="_blank">GitHub</a>
                <a href="https://github.com/wsoule/go-dotfiles" target="_blank">Repository</a>
            </div>
        </div>
    </header>

    <div class="container">
        <!-- Hero Section -->
        <div class="hero">
            <div class="hero-content">
                <div class="hero-badge">Developer Onboarding Toolkit</div>
                <h1 class="hero-title">
                    Dotfiles Manager
                    <span class="hero-subtitle">The complete solution for new developer environment setup</span>
                </h1>
                <p class="hero-description">
                    A comprehensive command-line tool that manages your entire development environment:
                    Homebrew packages, dotfiles with GNU Stow, GitHub SSH setup, and complete developer onboarding automation.
                </p>

                <div class="hero-actions">
                    <div class="install-section">
                        <div class="install-title">Quick Install</div>
                        <div class="install-command">
                            <code id="install-cmd">brew tap wsoule/tap && brew install dotfiles</code>
                            <button class="copy-btn" onclick="copyInstallCommand()">Copy</button>
                        </div>
                        <div class="install-alt">
                            Or: <code>curl -fsSL https://raw.githubusercontent.com/wsoule/new-dotfiles/main/install.sh | bash</code>
                        </div>
                    </div>

                    <div class="hero-buttons">
                        <a href="#templates" class="btn btn-primary">Browse Templates</a>
                        <a href="/docs" class="btn btn-secondary">View Documentation</a>
                    </div>
                </div>
            </div>

            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">üéâ</div>
                    <h3>Complete Onboarding</h3>
                    <p>One command to set up everything for new developers</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üîê</div>
                    <h3>GitHub SSH Integration</h3>
                    <p>Automated SSH key generation and GitHub configuration</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üì¶</div>
                    <h3>Smart Package Management</h3>
                    <p>Curated essential packages for developers</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">ü§ù</div>
                    <h3>Configuration Sharing</h3>
                    <p>Share and discover configs via GitHub Gist</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üìö</div>
                    <h3>Template Library</h3>
                    <p>Pre-built configs for web-dev, data science, DevOps</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üåç</div>
                    <h3>Community Discovery</h3>
                    <p>Find and browse configurations from other developers</p>
                </div>
            </div>
        </div>

        <!-- Use Cases Section -->
        <div class="use-cases">
            <h2>Perfect For</h2>
            <div class="accordion">
                <div class="accordion-item">
                    <div class="accordion-header" onclick="toggleAccordion(this)">
                        <h3>New Team Members</h3>
                        <span class="accordion-icon">‚ñº</span>
                    </div>
                    <div class="accordion-content">
                        <div class="accordion-body">
                            <p>Get new developers up and running with your team's exact development environment in minutes instead of days.</p>
                            <code>dotfiles onboard --email new.dev@company.com</code>
                        </div>
                    </div>
                </div>

                <div class="accordion-item">
                    <div class="accordion-header" onclick="toggleAccordion(this)">
                        <h3>Bootcamp Students</h3>
                        <span class="accordion-icon">‚ñº</span>
                    </div>
                    <div class="accordion-content">
                        <div class="accordion-body">
                            <p>Pre-configured development environments for different programming languages and frameworks.</p>
                            <code>dotfiles clone template:web-dev</code>
                        </div>
                    </div>
                </div>

                <div class="accordion-item">
                    <div class="accordion-header" onclick="toggleAccordion(this)">
                        <h3>DevOps Teams</h3>
                        <span class="accordion-icon">‚ñº</span>
                    </div>
                    <div class="accordion-content">
                        <div class="accordion-body">
                            <p>Standardize tooling and configurations across your entire infrastructure team.</p>
                            <code>dotfiles clone template:devops</code>
                        </div>
                    </div>
                </div>

                <div class="accordion-item">
                    <div class="accordion-header" onclick="toggleAccordion(this)">
                        <h3>Data Scientists</h3>
                        <span class="accordion-icon">‚ñº</span>
                    </div>
                    <div class="accordion-content">
                        <div class="accordion-body">
                            <p>Complete Python, R, and Jupyter environment setup with all the tools you need for analysis.</p>
                            <code>dotfiles clone template:data-science</code>
                        </div>
                    </div>
                </div>

                <div class="accordion-item">
                    <div class="accordion-header" onclick="toggleAccordion(this)">
                        <h3>Mobile Developers</h3>
                        <span class="accordion-icon">‚ñº</span>
                    </div>
                    <div class="accordion-content">
                        <div class="accordion-body">
                            <p>iOS and Android development environment with Flutter, React Native, and native toolchains.</p>
                            <code>dotfiles clone template:mobile-dev</code>
                        </div>
                    </div>
                </div>

                <div class="accordion-item">
                    <div class="accordion-header" onclick="toggleAccordion(this)">
                        <h3>Personal Setup</h3>
                        <span class="accordion-icon">‚ñº</span>
                    </div>
                    <div class="accordion-content">
                        <div class="accordion-body">
                            <p>Backup and restore your personal development environment across multiple machines.</p>
                            <code>dotfiles backup ~/my-setup.json</code>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Quick Start Section -->
        <div class="quick-start">
            <h2>Quick Start</h2>
            <div class="quick-start-grid">
                <div class="start-option">
                    <div class="start-number">1</div>
                    <h3>New Developer Onboarding</h3>
                    <code>dotfiles onboard --email your@email.com</code>
                    <p>Complete setup with GitHub SSH, essential packages, and configuration</p>
                </div>
                <div class="start-option">
                    <div class="start-number">2</div>
                    <h3>Use a Template</h3>
                    <code>dotfiles clone template:web-dev</code>
                    <p>Start with a pre-built template for your development stack</p>
                </div>
                <div class="start-option">
                    <div class="start-number">3</div>
                    <h3>Manual Setup</h3>
                    <code>dotfiles init && dotfiles add git curl</code>
                    <p>Build your configuration step by step</p>
                </div>
            </div>
        </div>

        <!-- Navigation -->
        <div class="nav-tabs" id="templates">
            <button class="nav-tab active" onclick="switchTab('templates')">Featured Templates</button>
            <button class="nav-tab" onclick="switchTab('configs')">Community Configs</button>
            <button class="nav-tab" onclick="switchTab('create-template')">Create Template</button>
        </div>

        <!-- Templates Section -->
        <div id="templates-section" class="content-section active">
            <div class="search-box">
                <input type="text" id="template-search" placeholder="Search templates by name, description, or tags...">
                <br><br>
                <div class="form-row">
                    <div class="form-group">
                        <input type="text" id="template-tags" placeholder="Filter by tags (comma-separated)">
                    </div>
                    <div class="form-group">
                        <select id="template-featured">
                            <option value="">All Templates</option>
                            <option value="true">Featured Only</option>
                            <option value="false">Non-Featured Only</option>
                        </select>
                    </div>
                </div>
            </div>

            <div id="templates-container">
                <div class="loading">Loading templates...</div>
            </div>
        </div>

        <!-- Configurations Section -->
        <div id="configs-section" class="content-section">
            <div class="upload-instructions">
                <details>
                    <summary>How to Upload Your Config</summary>
                    <div class="instructions-content">
                        <h3>1. Share via CLI (Recommended)</h3>
                        <p>Use your dotfiles CLI tool to share your configuration:</p>
                        <code>dotfiles share gist --name="My Setup" --description="My awesome dev config" --author="yourname"</code>

                        <h3>2. Share via API</h3>
                        <p>Upload directly using the API:</p>
                        <code>curl -X POST ${window.location.origin}/api/configs/upload \
  -H "Content-Type: application/json" \
  -d '{
    "name": "My Configuration",
    "description": "Description of my setup",
    "author": "Your Name",
    "tags": ["web-dev", "python"],
    "config": "{\"brews\": [\"git\", \"curl\"], \"casks\": [\"vscode\"], \"taps\": [], \"stow\": [\"vim\"]}",
    "public": true
  }'</code>

                        <h3>3. Export from CLI</h3>
                        <p>First export your config to a file, then upload manually:</p>
                        <code>dotfiles list --json > my-config.json</code>
                    </div>
                </details>
            </div>

            <div class="stats" id="stats">
                <div class="stat-card">
                    <h3>Total Configs</h3>
                    <div class="number" id="total-configs">-</div>
                </div>
                <div class="stat-card">
                    <h3>Public Configs</h3>
                    <div class="number" id="public-configs">-</div>
                </div>
                <div class="stat-card">
                    <h3>Total Downloads</h3>
                    <div class="number" id="total-downloads">-</div>
                </div>
            </div>

            <div class="search-box">
                <input type="text" id="search" placeholder="Search configurations by name, description, or tags...">
            </div>

            <div id="configs-container">
                <div class="loading">Loading configurations...</div>
            </div>
        </div>

        <!-- Create Template Section -->
        <div id="create-template-section" class="content-section">
            <div class="create-template-container">
                <div class="form-header">
                    <h2>Create New Template</h2>
                    <p>Share your development setup with the community. Create a reusable template that others can build upon.</p>
                </div>

                <div class="template-wizard">
                    <div class="wizard-steps">
                        <div class="step active" data-step="1">
                            <div class="step-number">1</div>
                            <div class="step-title">Basic Info</div>
                        </div>
                        <div class="step" data-step="2">
                            <div class="step-number">2</div>
                            <div class="step-title">Packages</div>
                        </div>
                        <div class="step" data-step="3">
                            <div class="step-number">3</div>
                            <div class="step-title">Advanced</div>
                        </div>
                        <div class="step" data-step="4">
                            <div class="step-number">4</div>
                            <div class="step-title">Preview</div>
                        </div>
                    </div>

                    <form id="template-form">
                        <!-- Step 1: Basic Information -->
                        <div class="form-step active" data-step="1">
                            <h3>Basic Information</h3>
                            <div class="step-description">
                                Give your template a name and description that clearly explains its purpose.
                            </div>

                            <div class="form-group">
                                <label for="template-name">Template Name*</label>
                                <input type="text" id="template-name" required maxlength="50"
                                       placeholder="e.g., Full Stack Web Developer Setup">
                                <div class="help-text">A clear, descriptive name for your template</div>
                                <div class="char-counter"><span id="name-count">0</span>/50</div>
                            </div>

                            <div class="form-group">
                                <label for="template-author">Author*</label>
                                <input type="text" id="template-author" required maxlength="30"
                                       placeholder="Your GitHub username or name">
                                <div class="help-text">Your name or GitHub username</div>
                                <div class="char-counter"><span id="author-count">0</span>/30</div>
                            </div>

                            <div class="form-group">
                                <label for="template-description">Description</label>
                                <textarea id="template-description" rows="4" maxlength="500"
                                          placeholder="Describe what this template includes and who it's for. Be specific about the development stack, tools, and workflow it supports."></textarea>
                                <div class="help-text">Explain what this template does and who should use it</div>
                                <div class="char-counter"><span id="desc-count">0</span>/500</div>
                            </div>

                            <div class="form-group">
                                <label for="template-organization">Organization (Optional)</label>
                                <select id="template-organization">
                                    <option value="">Personal Template</option>
                                    <!-- Organizations will be loaded here -->
                                </select>
                                <div class="help-text">Assign this template to an organization you're a member of</div>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label for="template-version">Version</label>
                                    <input type="text" id="template-version" placeholder="1.0.0" value="1.0.0">
                                    <div class="help-text">Semantic version (e.g., 1.0.0)</div>
                                </div>
                                <div class="form-group">
                                    <label for="template-tags-input">Tags</label>
                                    <input type="text" id="template-tags-input"
                                           placeholder="web-dev, frontend, react, typescript">
                                    <div class="help-text">Comma-separated tags for discoverability</div>
                                    <div class="tag-suggestions">
                                        <div class="popular-tags">
                                            Popular: <span class="tag-pill" onclick="addTag('web-dev')">web-dev</span>
                                            <span class="tag-pill" onclick="addTag('frontend')">frontend</span>
                                            <span class="tag-pill" onclick="addTag('backend')">backend</span>
                                            <span class="tag-pill" onclick="addTag('data-science')">data-science</span>
                                            <span class="tag-pill" onclick="addTag('devops')">devops</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Step 2: Packages -->
                        <div class="form-step" data-step="2">
                            <h3>Package Configuration</h3>
                            <div class="step-description">
                                Define the packages that will be installed with your template.
                            </div>

                            <div class="package-sections">
                                <div class="package-section">
                                    <div class="package-header">
                                        <h4>Homebrew Packages</h4>
                                        <div class="package-info">Command-line tools and libraries</div>
                                    </div>
                                    <div class="package-input-group">
                                        <input type="text" id="brew-input" placeholder="Type package name and press Enter">
                                        <button type="button" class="add-btn" onclick="addPackage('brews', 'brew-input')">Add</button>
                                    </div>
                                    <div class="package-suggestions">
                                        Popular: <span class="package-pill" onclick="addPackageFromPill('brews', 'git')">git</span>
                                        <span class="package-pill" onclick="addPackageFromPill('brews', 'node')">node</span>
                                        <span class="package-pill" onclick="addPackageFromPill('brews', 'python3')">python3</span>
                                        <span class="package-pill" onclick="addPackageFromPill('brews', 'curl')">curl</span>
                                        <span class="package-pill" onclick="addPackageFromPill('brews', 'wget')">wget</span>
                                        <span class="package-pill" onclick="addPackageFromPill('brews', 'tree')">tree</span>
                                        <span class="package-pill" onclick="addPackageFromPill('brews', 'jq')">jq</span>
                                        <span class="package-pill" onclick="addPackageFromPill('brews', 'docker')">docker</span>
                                    </div>
                                    <div id="brews-list" class="package-list"></div>
                                    <textarea id="template-brews" style="display:none;"></textarea>
                                </div>

                                <div class="package-section">
                                    <div class="package-header">
                                        <h4>Homebrew Casks</h4>
                                        <div class="package-info">GUI applications</div>
                                    </div>
                                    <div class="package-input-group">
                                        <input type="text" id="cask-input" placeholder="Type application name and press Enter">
                                        <button type="button" class="add-btn" onclick="addPackage('casks', 'cask-input')">Add</button>
                                    </div>
                                    <div class="package-suggestions">
                                        Popular: <span class="package-pill" onclick="addPackageFromPill('casks', 'visual-studio-code')">visual-studio-code</span>
                                        <span class="package-pill" onclick="addPackageFromPill('casks', 'google-chrome')">google-chrome</span>
                                        <span class="package-pill" onclick="addPackageFromPill('casks', 'iterm2')">iterm2</span>
                                        <span class="package-pill" onclick="addPackageFromPill('casks', 'slack')">slack</span>
                                        <span class="package-pill" onclick="addPackageFromPill('casks', 'figma')">figma</span>
                                        <span class="package-pill" onclick="addPackageFromPill('casks', 'docker')">docker</span>
                                    </div>
                                    <div id="casks-list" class="package-list"></div>
                                    <textarea id="template-casks" style="display:none;"></textarea>
                                </div>

                                <div class="form-row">
                                    <div class="package-section">
                                        <div class="package-header">
                                            <h4>Homebrew Taps</h4>
                                            <div class="package-info">Additional repositories</div>
                                        </div>
                                        <div class="package-input-group">
                                            <input type="text" id="tap-input" placeholder="homebrew/cask-fonts">
                                            <button type="button" class="add-btn" onclick="addPackage('taps', 'tap-input')">Add</button>
                                        </div>
                                        <div id="taps-list" class="package-list"></div>
                                        <input type="text" id="template-taps" style="display:none;">
                                    </div>

                                    <div class="package-section">
                                        <div class="package-header">
                                            <h4>Stow Packages</h4>
                                            <div class="package-info">Dotfile configurations</div>
                                        </div>
                                        <div class="package-input-group">
                                            <input type="text" id="stow-input" placeholder="vim, zsh, tmux">
                                            <button type="button" class="add-btn" onclick="addPackage('stow', 'stow-input')">Add</button>
                                        </div>
                                        <div id="stow-list" class="package-list"></div>
                                        <input type="text" id="template-stow" style="display:none;">
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Step 3: Advanced Options -->
                        <div class="form-step" data-step="3">
                            <h3>Advanced Options</h3>
                            <div class="step-description">
                                Configure template inheritance and behavior (optional).
                            </div>

                            <div class="advanced-options">
                                <div class="option-card">
                                    <h4>Template Inheritance</h4>
                                    <div class="form-group">
                                        <label for="template-extends">Extends Template</label>
                                        <select id="template-extends">
                                            <option value="">None (start from scratch)</option>
                                            <!-- Will be populated dynamically -->
                                        </select>
                                        <div class="help-text">Build upon an existing template</div>
                                    </div>

                                    <div class="form-group">
                                        <label for="template-overrides">Override Sections</label>
                                        <div class="checkbox-pills">
                                            <label class="pill-checkbox">
                                                <input type="checkbox" value="brews"> Brews
                                            </label>
                                            <label class="pill-checkbox">
                                                <input type="checkbox" value="casks"> Casks
                                            </label>
                                            <label class="pill-checkbox">
                                                <input type="checkbox" value="taps"> Taps
                                            </label>
                                            <label class="pill-checkbox">
                                                <input type="checkbox" value="stow"> Stow
                                            </label>
                                        </div>
                                        <div class="help-text">Which sections should replace the parent template's packages</div>
                                        <input type="text" id="template-overrides" style="display:none;">
                                    </div>
                                </div>

                                <div class="option-card">
                                    <h4>Behavior Settings</h4>
                                    <div class="setting-group">
                                        <label class="setting-toggle">
                                            <input type="checkbox" id="template-public" checked>
                                            <div class="toggle-switch"></div>
                                            <div class="setting-info">
                                                <div class="setting-title">Public Template</div>
                                                <div class="setting-desc">Make this template discoverable by others</div>
                                            </div>
                                        </label>

                                        <label class="setting-toggle">
                                            <input type="checkbox" id="template-add-only">
                                            <div class="toggle-switch"></div>
                                            <div class="setting-info">
                                                <div class="setting-title">Add-Only Mode</div>
                                                <div class="setting-desc">Add packages without replacing existing ones</div>
                                            </div>
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Step 4: Preview -->
                        <div class="form-step" data-step="4">
                            <h3>Preview Template</h3>
                            <div class="step-description">
                                Review your template before creating it.
                            </div>

                            <div class="preview-container">
                                <div class="preview-card" id="template-preview">
                                    <!-- Preview will be generated here -->
                                </div>
                            </div>
                        </div>

                        <div class="form-navigation">
                            <button type="button" id="prev-btn" class="nav-btn secondary" onclick="previousStep()" style="display:none;">
                                ‚Üê Previous
                            </button>
                            <button type="button" id="next-btn" class="nav-btn primary" onclick="nextStep()">
                                Next ‚Üí
                            </button>
                            <button type="submit" id="submit-btn" class="nav-btn primary" style="display:none;">
                                Create Template
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <script src="/static/app.js"></script>
</body>
</html>
